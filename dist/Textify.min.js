/*! For license information please see Textify.min.js.LICENSE.txt */
!function(D,u){"object"==typeof exports&&"object"==typeof module?module.exports=u():"function"==typeof define&&define.amd?define([],u):"object"==typeof exports?exports["Textify.js"]=u():D["Textify.js"]=u()}(this,function(){"use strict";var e={d:function(D,u){for(var t in u)e.o(u,t)&&!e.o(D,t)&&Object.defineProperty(D,t,{enumerable:!0,get:u[t]})}},D=(e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(D){if("object"==typeof window)return window}}(),e.o=function(D,u){return Object.prototype.hasOwnProperty.call(D,u)},{});function i(D,u){(null==u||u>D.length)&&(u=D.length);for(var t=0,e=new Array(u);t<u;t++)e[t]=D[t];return e}function s(D){return function(D){if(Array.isArray(D))return i(D)}(D)||function(D){if("undefined"!=typeof Symbol&&null!=D[Symbol.iterator]||null!=D["@@iterator"])return Array.from(D)}(D)||function(D,u){var t;if(D)return"string"==typeof D?i(D,u):"Map"===(t="Object"===(t=Object.prototype.toString.call(D).slice(8,-1))&&D.constructor?D.constructor.name:t)||"Set"===t?Array.from(D):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(D,u):void 0}(D)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(D,u){if(!(D instanceof u))throw new TypeError("Cannot call a class as a function")}function o(D){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(D)}function n(D){D=function(D,u){if("object"!==o(D)||null===D)return D;var t=D[Symbol.toPrimitive];if(void 0===t)return("string"===u?String:Number)(D);if("object"!==o(t=t.call(D,u||"default")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(D,"string");return"symbol"===o(D)?D:String(D)}function a(D,u){for(var t=0;t<u.length;t++){var e=u[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(D,n(e.key),e)}}function u(D,u,t){u&&a(D.prototype,u),t&&a(D,t),Object.defineProperty(D,"prototype",{writable:!1})}e.d(D,{default:function(){return v}});var y=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function U(D){return F.getComputedStyle(D)}function q(){var D=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",u=1<arguments.length?arguments[1]:void 0,t=~D.indexOf("++"),e=1;return t&&(D=D.split("++").join("")),function(){return"<"+u+" style='position:relative;display:inline-block;'"+(D?" class='"+D+(t?e++:"")+"'>":">")}}function G(D,u){for(var t=u.length;-1<--t;)D.push(u[t])}function z(D,u,t){for(var e;D&&D!==u;){if(e=D._next||D.nextSibling)return e.textContent.charAt(0)===t;D=D.parentNode||D._parent}}function $(D){for(var u,t=c(D.childNodes),e=t.length,i=0;i<e;i++)(u=t[i])._isSplit?$(u):(i&&3===u.previousSibling.nodeType?u.previousSibling.nodeValue+=(3===u.nodeType?u:u.firstChild).nodeValue:3!==u.nodeType&&D.insertBefore(u.firstChild,u),D.removeChild(u))}function J(D,u){return parseFloat(u[D])||0}function l(D,u,t,e){var i,n,s,r,o,a,l,F=u.tag||(u.span?"span":"div"),C=~(u.type||u.split||"chars,words,lines").indexOf("chars"),h=Z(u),E=u.wordDelimiter||" ",c=" "!==E?"":h?"&#173; ":" ",d="</"+F+">",p=1,f=u.specialChars?"function"==typeof u.specialChars?u.specialChars:b:null,h=Q.createElement("div"),m=D.parentNode;for(m.insertBefore(h,D),h.textContent=D.nodeValue,m.removeChild(D),h=-1!==(i=function D(u){var t=u.nodeType,e="";if(1===t||9===t||11===t){if("string"==typeof u.textContent)return u.textContent;for(u=u.firstChild;u;u=u.nextSibling)e+=D(u)}else if(3===t||4===t)return u.nodeValue;return e}(D=h)).indexOf("<"),!1!==u.reduceWhiteSpace&&(i=i.replace(A," ").replace(g,"")),o=(i=h?i.split("<").join("{{LT}}"):i).length,n=(" "===i.charAt(0)?c:"")+t(),s=0;s<o;s++)if(a=i.charAt(s),f&&(l=f(i.substr(s),u.specialChars)))a=i.substr(s,l||1),n+=C&&" "!==a?e()+a+"</"+F+">":a,s+=l-1;else if(a===E&&i.charAt(s-1)!==E&&s){for(n+=p?d:"",p=0;i.charAt(s+1)===E;)n+=c,s++;s===o-1?n+=c:")"!==i.charAt(s+1)&&(n+=c+t(),p=1)}else"{"===a&&"{{LT}}"===i.substr(s,6)?(n+=C?e()+"{{LT}}</"+F+">":"{{LT}}",s+=5):55296<=a.charCodeAt(0)&&a.charCodeAt(0)<=56319||65024<=i.charCodeAt(s+1)&&i.charCodeAt(s+1)<=65039?(r=((i.substr(s,12).split(y)||[])[1]||"").length||2,n+=C&&" "!==a?e()+i.substr(s,r)+"</"+F+">":i.substr(s,r),s+=r-1):n+=C&&" "!==a?e()+a+"</"+F+">":a;D.outerHTML=n+(p?d:""),h&&DD(m,"{{LT}}","<")}function K(D,u,t,e){var i,n,s=c(D.childNodes),r=s.length,o=Z(u);if(3!==D.nodeType||1<r){for(u.absolute=!1,i=0;i<r;i++)3===(n=s[i]).nodeType&&!/\S+/.test(n.nodeValue)||(o&&3!==n.nodeType&&"inline"===U(n).display&&(n.style.display="inline-block",n.style.position="relative"),n._isSplit=!0,K(n,u,t,e));u.absolute=o,D._isSplit=!0}else l(D,u,t,e)}var Q,F,C,g=/(?:\r|\n|\t\t)/g,A=/(?:\s\s+)/g,h=Array.isArray,E=[].slice,c=function(D,u){var t;return h(D)?D:"string"===(t=o(D))&&!u&&D?E.call(Q.querySelectorAll(D),0):D&&"object"===t&&"length"in D?E.call(D,0):D?[D]:[]},Z=function(D){return"absolute"===D.position||!0===D.absolute},b=function(D,u){for(var t,e=u.length;-1<--e;)if(t=u[e],D.substr(0,t.length)===t)return t.length},DD=function D(u,t,e){var i=u.nodeType;if(1===i||9===i||11===i)for(u=u.firstChild;u;u=u.nextSibling)D(u,t,e);else 3!==i&&4!==i||(u.nodeValue=u.nodeValue.split(t).join(e))},d=function(){function t(D,u){r(this,t),C||(Q=document,F=window,C=1),this.elements=c(D),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=u||{},this._split(u)}return u(t,[{key:"_split",value:function(D){this.isSplit&&this.revert(),this.vars=D=D||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var u=this.elements.length,t=D.tag||(D.span?"span":"div"),k=q(D.wordsClass,t),I=q(D.charsClass,t);-1<--u;){f=this.elements[u],this._originals[u]=f.innerHTML,d=f.clientHeight,c=f.clientWidth,K(f,D,k,I),E=h=C=F=l=a=o=r=s=n=i=e=L=j=N=P=_=O=S=T=w=v=x=B=Y=X=V=R=W=b=A=g=y=void 0;var e,i,n,s,r,o,a,l,F,C,h,E,c,d,p=f,f=D,M=this.chars,H=this.words,m=this.lines,y=U(p),g=J("paddingLeft",y),A=-999,b=J("borderBottomWidth",y)+J("borderTopWidth",y),W=J("borderLeftWidth",y)+J("borderRightWidth",y),R=J("paddingTop",y)+J("paddingBottom",y),V=J("paddingLeft",y)+J("paddingRight",y),X=.2*J("fontSize",y),Y=y.textAlign,B=[],x=[],v=[],w=f.wordDelimiter||" ",T=f.tag||(f.span?"span":"div"),y=f.type||f.split||"chars,words,lines",S=m&&~y.indexOf("lines")?[]:null,O=~y.indexOf("words"),_=~y.indexOf("chars"),P=Z(f),N=f.linesClass,j=~(N||"").indexOf("++"),L=[];for(j&&(N=N.split("++").join("")),n=(i=p.getElementsByTagName("*")).length,r=[],e=0;e<n;e++)r[e]=i[e];if(S||P)for(e=0;e<n;e++)((o=(s=r[e]).parentNode===p)||P||_&&!O)&&(E=s.offsetTop,S&&o&&Math.abs(E-A)>X&&("BR"!==s.nodeName||0===e)&&(S.push(a=[]),A=E),P&&(s._x=s.offsetLeft,s._y=E,s._w=s.offsetWidth,s._h=s.offsetHeight),S)&&((s._isSplit&&o||!_&&o||O&&o||!O&&s.parentNode.parentNode===p&&!s.parentNode._isSplit)&&(a.push(s),s._x-=g,z(s,p,w))&&(s._wordEnd=!0),"BR"===s.nodeName)&&(s.nextSibling&&"BR"===s.nextSibling.nodeName||0===e)&&S.push([]);for(e=0;e<n;e++)o=(s=r[e]).parentNode===p,"BR"===s.nodeName?S||P?(s.parentNode&&s.parentNode.removeChild(s),r.splice(e--,1),n--):O||p.appendChild(s):(P&&(F=s.style,O||o||(s._x+=s.parentNode._x,s._y+=s.parentNode._y),F.left=s._x+"px",F.top=s._y+"px",F.position="absolute",F.display="block",F.width=s._w+1+"px",F.height=s._h+"px"),!O&&_?s._isSplit?(s._next=s.nextSibling,s.parentNode.appendChild(s)):s.parentNode._isSplit?(s._parent=s.parentNode,!s.previousSibling&&s.firstChild&&(s.firstChild._isFirst=!0),s.nextSibling&&" "===s.nextSibling.textContent&&!s.nextSibling.nextSibling&&L.push(s.nextSibling),s._next=s.nextSibling&&s.nextSibling._isFirst?null:s.nextSibling,s.parentNode.removeChild(s),r.splice(e--,1),n--):o||(E=!s.nextSibling&&z(s.parentNode,p,w),s.parentNode._parent&&s.parentNode._parent.appendChild(s),E&&s.parentNode.appendChild(Q.createTextNode(" ")),"span"===T&&(s.style.display="inline"),B.push(s)):s.parentNode._isSplit&&!s._isSplit&&""!==s.innerHTML?x.push(s):_&&!s._isSplit&&("span"===T&&(s.style.display="inline"),B.push(s)));for(e=L.length;-1<--e;)L[e].parentNode.removeChild(L[e]);if(S){for(P&&(C=Q.createElement(T),p.appendChild(C),h=C.offsetWidth+"px",E=C.offsetParent===p?0:p.offsetLeft,p.removeChild(C)),F=p.style.cssText,p.style.cssText="display:none;";p.firstChild;)p.removeChild(p.firstChild);for(l=" "===w&&(!P||!O&&!_),e=0;e<S.length;e++){for(a=S[e],(C=Q.createElement(T)).style.cssText="display:block;text-align:"+Y+";position:"+(P?"absolute;":"relative;"),N&&(C.className=N+(j?e+1:"")),v.push(C),n=a.length,i=0;i<n;i++)"BR"!==a[i].nodeName&&(s=a[i],C.appendChild(s),l&&s._wordEnd&&C.appendChild(Q.createTextNode(" ")),P)&&(0===i&&(C.style.top=s._y+"px",C.style.left=g+E+"px"),s.style.top="0px",E)&&(s.style.left=s._x-E+"px");0===n?C.innerHTML="&nbsp;":O||_||($(C),DD(C,String.fromCharCode(160)," ")),P&&(C.style.width=h,C.style.height=s._h+"px"),p.appendChild(C)}p.style.cssText=F}P&&(d>p.clientHeight&&(p.style.height=d-R+"px",p.clientHeight<d)&&(p.style.height=d+b+"px"),c>p.clientWidth)&&(p.style.width=c-V+"px",p.clientWidth<c)&&(p.style.width=c+W+"px"),G(M,B),O&&G(H,x),G(m,v)}return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this}},{key:"revert",value:function(){var t=this._originals;if(t)return this.elements.forEach(function(D,u){return D.innerHTML=t[u]}),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this;throw"revert() call wasn't scoped properly."}}],[{key:"create",value:function(D,u){return new t(D,u)}}]),t}(),p="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator&&"undefined"!=typeof requestAnimationFrame,f=function(){function e(D){var u=D.element,t=D.controls,D=D.engine;r(this,e),this.element=u,this.controls=t,this.engine=D,this.observer=null,this.text=null,this.textParts={},this.animatedElements=[],this.isError=!1,this.threshold=this.controls.observer.threshold,this.repeat=this.controls.observer.repeat,this.animation=this.controls.animation,this.customAnimation=this.controls.animation.customAnimation,this._split(),p&&"IntersectionObserver"in window?(this.createObserver(),this.customAnimation||this.reset()):this.customAnimation||this.animateIn()}return u(e,[{key:"_split",value:function(){var t=this;if(this.controls.largeText){if("lines"!==this.controls.splitType)throw this.isError=!0,Error("Textify: Large text must be split by lines only. Please set splitType to 'lines'");if("lines"!==this.animation.by)throw this.isError=!0,Error("Textify: Large text must be animated by lines only. Please set animation.by to 'lines'")}if(this.text=new d(this.element,{type:this.controls.splitType,charsClass:this.controls.charsClass,wordsClass:this.controls.wordsClass,linesClass:this.controls.linesClass,position:this.controls.position,tag:this.controls.tag}),this.textParts={chars:this.text.chars,words:this.text.words,lines:this.text.lines},"chars"===this.animation.by&&0<this.textParts.chars.length&&(this.animatedElements=this.textParts.chars,this.animatedElements.forEach(function(D,u){D.setAttribute("data-char",D.textContent),D.setAttribute("data-char-index",u)})),"words"===this.animation.by&&0<this.textParts.words.length&&(this.animatedElements=this.textParts.words,this.animatedElements.forEach(function(D,u){D.setAttribute("data-word",D.textContent),D.setAttribute("data-word-index",u)})),"lines"===this.animation.by&&0<this.textParts.lines.length&&(this.animatedElements=this.textParts.lines,this.animatedElements.forEach(function(D,u){D.setAttribute("data-line",D.textContent),D.setAttribute("data-line-index",u)})),this.controls.largeText){if(0===this.textParts.lines.length)throw this.isError=!0,Error("Textify: Large text must have at least one line");this.textParts.lines.forEach(function(D){var u=document.createElement("div");u.appendChild(D),t.element.appendChild(u),u.classList.add("line-box")})}this.element.classList.add("textify")}},{key:"createObserver",value:function(){var u=this;this.observer=new window.IntersectionObserver(function(D){D.forEach(function(D){D.isIntersecting?(D.target.classList.add("is-animated"),u.customAnimation||u.animateIn(),u.repeat||u.observer.unobserve(D.target)):(u.customAnimation||u.reset(),u.repeat&&D.target.classList.remove("is-animated"))})}),this.observer.observe(this.element)}},{key:"animateIn",value:function(){if(!this.isError)return this.animation.customAnimation?this.element.classList.add("textify-custom-animation"):void this.engine.to(this.animatedElements,{opacity:1,y:0,x:0,scale:1,rotate:0,skewX:0,skewY:0,duration:this.animation.duration,stagger:this.animation.stagger,delay:this.animation.delay,ease:this.animation.ease})}},{key:"animateOut",value:function(){if(!this.isError)return this.animation.customAnimation?this.element.classList.remove("textify-custom-animation"):void this.engine.to(this.animatedElements,{duration:this.animation.duration,stagger:this.animation.stagger,transformOrigin:this.animation.transformOrigin,opacity:this.animation.animateProps.opacity,y:this.animation.animateProps.y,x:this.animation.animateProps.x,scale:this.animation.animateProps.scale,rotate:this.animation.animateProps.rotate,skewX:this.animation.animateProps.skewX,skewY:this.animation.animateProps.skewY,ease:this.animation.ease})}},{key:"reset",value:function(){if(!this.isError)return this.animation.customAnimation?this.element.classList.remove("textify-custom-animation"):void this.engine.set(this.animatedElements,{duration:.1,stagger:0,transformOrigin:this.animation.transformOrigin,opacity:this.animation.animateProps.opacity,y:this.animation.animateProps.y,x:this.animation.animateProps.x,scale:this.animation.animateProps.scale,rotate:this.animation.animateProps.rotate,skewX:this.animation.animateProps.skewX,skewY:this.animation.animateProps.skewY,ease:"none"})}}]),e}(),m={splitType:"lines words chars",tag:"div",charsClass:"char",wordsClass:"word",linesClass:"line",position:"relative",largeText:!1,observer:{repeat:!1,threshold:.5},animation:{by:"chars",duration:.5,stagger:.05,delay:0,ease:"ease",customAnimation:!1,transformOrigin:"center center",animateProps:{opacity:1,y:"100%",x:0,scale:1,rotate:0,skewX:0,skewY:0}}};function t(u,D){var t,e=Object.keys(u);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(u),D&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(u,D).enumerable})),e.push.apply(e,t)),e}function B(e){for(var D=1;D<arguments.length;D++){var i=null!=arguments[D]?arguments[D]:{};D%2?t(Object(i),!0).forEach(function(D){var u,t;u=e,t=i[D=D],(D=n(D))in u?Object.defineProperty(u,D,{value:t,enumerable:!0,configurable:!0,writable:!0}):u[D]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(D){Object.defineProperty(e,D,Object.getOwnPropertyDescriptor(i,D))})}return e}var x=function(){function n(D,u){var t,e,i=this;if(r(this,n),this.DEFAULT_ELEMENT=D.el||"[data-textify]",this.options=D,this.config=m,this.engine=u,!this.engine)throw new Error("engine is not defined. Please import a gsap. See https://greensock.com/docs/v3/Installation for more info.");if(this.controls=function D(u,t){if("object"!==o(u)||"object"!==o(t))return t;var e,i=B({},u);for(e in t)t.hasOwnProperty(e)&&(i.hasOwnProperty(e)?i[e]=D(i[e],t[e]):i[e]=t[e]);return i}(this.config,this.options),p){if(!document.querySelector(this.DEFAULT_ELEMENT))throw new Error('Textify: Element "'.concat(this.DEFAULT_ELEMENT,'" is not found.'));this.TARGETS=s(document.querySelectorAll(this.DEFAULT_ELEMENT)),this.ANIMATIONS=(t=this.TARGETS,e=function(D){return new f({element:D,controls:i.controls,engine:i.engine})},t instanceof window.HTMLElement?[e(t)]:"object"===o(t)?Object.keys(t).map(function(D){return e(t[D])}):t.map(e))}}return u(n,[{key:"animateIn",value:function(){p||console.log("Textify is not supported in this environment."),this.ANIMATIONS.forEach(function(D){D.animateIn()})}},{key:"animateOut",value:function(){p||console.log("Textify is not supported in this environment."),this.ANIMATIONS.forEach(function(D){D.animateOut()})}},{key:"reset",value:function(){p||console.log("Textify is not supported in this environment."),this.ANIMATIONS.forEach(function(D){D.reset()})}}]),n}();const v=x;return p?window.Textify=x:(e.g.Textify=x,console.log("Textify is not supported in this environment.")),D.default});